---
import Layout from '../layouts/Layout.astro';
import { Icon } from 'astro-icon/components';
---

<Layout title="Como Funciona - AgentFlow" description="Aprenda como o AgentFlow usa GitHub Actions e IA para automatizar insights">
    <div class="page-header">
        <h1 class="page-title">Como Funciona</h1>
        <p class="page-description">
            AgentFlow aproveita GitHub Actions e IA para criar pipelines automatizados e serverless
        </p>
    </div>

    <!-- How It Works Section -->
    <div class="how-it-works">
        <div class="workflow-steps">
            <div class="workflow-step">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-icon">
                        <Icon name="lucide:clock" />
                    </div>
                </div>
                <h3 class="step-title">Gatilho Agendado</h3>
                <p class="step-description">GitHub Actions executa pipelines em um cronograma (diário, semanal, etc.) ou sob demanda</p>
            </div>
            <div class="workflow-step">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-icon">
                        <Icon name="lucide:search" />
                    </div>
                </div>
                <h3 class="step-title">Coleta de Dados</h3>
                <p class="step-description">Pipelines coletam dados de APIs, sites, redes sociais, bases de pesquisa ou outras fontes</p>
            </div>
            <div class="workflow-step">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-icon">
                        <Icon name="lucide:sparkles" />
                    </div>
                </div>
                <h3 class="step-title">Análise com IA</h3>
                <p class="step-description">Modelos de IA processam os dados para extrair insights, resumir conteúdo e identificar tendências</p>
            </div>
            <div class="workflow-step">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <div class="step-icon">
                        <Icon name="lucide:bar-chart-3" />
                    </div>
                </div>
                <h3 class="step-title">Publicação Automática</h3>
                <p class="step-description">Resultados são automaticamente gerados como relatórios HTML e publicados no GitHub Pages</p>
            </div>
        </div>
    </div>

    <div class="details-section">
        <h2 class="section-title">A Stack</h2>
        <div class="stack-cards">
            <div class="stack-card">
                <div class="stack-icon">
                    <Icon name="lucide:github" />
                </div>
                <h3>GitHub Actions</h3>
                <p>Computação gratuita para executar pipelines automatizados agendados ou sob demanda</p>
            </div>
            <div class="stack-card">
                <div class="stack-icon">
                    <Icon name="lucide:globe" />
                </div>
                <h3>GitHub Pages</h3>
                <p>Hospedagem gratuita para sites estáticos - perfeito para publicar relatórios automatizados</p>
            </div>
            <div class="stack-card">
                <div class="stack-icon">
                    <Icon name="lucide:sparkles" />
                </div>
                <h3>AI APIs</h3>
                <p>Processamento de IA pague conforme usar - pague apenas pelo que usar, sem custos de infraestrutura</p>
            </div>
            <div class="stack-card">
                <div class="stack-icon">
                    <Icon name="lucide:code-2" />
                </div>
                <h3>Astro</h3>
                <p>Framework web moderno e rápido para criar sites ricos em conteúdo com JavaScript mínimo</p>
            </div>
        </div>
    </div>

    <div class="benefits-section">
        <h2 class="section-title">Por Que AgentFlow?</h2>
        <div class="benefits-grid">
            <div class="benefit-card">
                <Icon name="lucide:dollar-sign" class="benefit-icon" />
                <h3>Custo-Efetivo</h3>
                <p>Sem servidores para gerenciar ou pagar. Pague apenas pelo uso da API de IA.</p>
            </div>
            <div class="benefit-card">
                <Icon name="lucide:zap" class="benefit-icon" />
                <h3>Zero Manutenção</h3>
                <p>GitHub cuida da infraestrutura, escalabilidade e implantação automaticamente.</p>
            </div>
            <div class="benefit-card">
                <Icon name="lucide:lock" class="benefit-icon" />
                <h3>Seguro e Confiável</h3>
                <p>Construído na infraestrutura do GitHub com segurança de nível empresarial.</p>
            </div>
            <div class="benefit-card">
                <Icon name="lucide:git-branch" class="benefit-icon" />
                <h3>Controle de Versão</h3>
                <p>Todo código, dados e configurações são rastreados no Git.</p>
            </div>
        </div>
    </div>
</Layout>

<style>
    .page-header {
        text-align: center;
        max-width: 52rem;
        margin: 0 auto var(--space-12);
    }

    .page-title {
        font-size: var(--font-size-4xl);
        font-weight: 700;
        letter-spacing: -0.04em;
        color: var(--color-text-primary);
        margin-bottom: var(--space-3);
    }

    .page-description {
        font-size: var(--font-size-lg);
        color: var(--color-text-secondary);
        font-weight: 400;
        line-height: 1.6;
        margin: 0 0 var(--space-6);
    }

    /* How It Works Section */
    .how-it-works {
        background: var(--color-bg-primary);
        border: 1px solid var(--color-border-light);
        border-radius: var(--radius-lg);
        padding: var(--space-8) var(--space-6);
        margin-bottom: var(--space-16);
        box-shadow: var(--shadow-sm);
    }

    .workflow-steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: var(--space-4);
    }

    .workflow-step {
        position: relative;
        padding: var(--space-6);
        background: var(--color-bg-secondary);
        border-radius: var(--radius-md);
        border: 1px solid var(--color-border-light);
        transition: all var(--transition-base);
        display: flex;
        flex-direction: column;
    }

    .workflow-step:hover {
        border-color: var(--color-border-medium);
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
    }

    .step-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--space-4);
    }

    .step-number {
        background: var(--color-accent-primary);
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: var(--font-size-sm);
        box-shadow: var(--shadow-md);
        flex-shrink: 0;
    }

    .step-icon {
        width: 32px;
        height: 32px;
        color: var(--color-accent-primary);
        flex-shrink: 0;
    }

    .step-icon svg {
        width: 100%;
        height: 100%;
    }

    .step-title {
        font-size: var(--font-size-base);
        font-weight: 600;
        margin-bottom: var(--space-2);
        color: var(--color-text-primary);
        line-height: 1.3;
    }

    .step-description {
        color: var(--color-text-secondary);
        font-size: var(--font-size-sm);
        line-height: 1.6;
    }

    /* Details Section */
    .details-section {
        margin-bottom: var(--space-16);
    }

    .section-title {
        font-size: var(--font-size-2xl);
        font-weight: 600;
        text-align: center;
        margin-bottom: var(--space-8);
        color: var(--color-text-primary);
        letter-spacing: -0.02em;
    }

    .stack-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-6);
        max-width: 72rem;
        margin: 0 auto;
    }

    .stack-card {
        background: var(--color-bg-primary);
        border: 1px solid var(--color-border-light);
        border-radius: var(--radius-lg);
        padding: var(--space-6);
        text-align: center;
        transition: all var(--transition-base);
    }

    .stack-card:hover {
        border-color: var(--color-border-medium);
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
    }

    .stack-icon {
        width: 48px;
        height: 48px;
        margin: 0 auto var(--space-4);
        color: var(--color-accent-primary);
    }

    .stack-icon svg {
        width: 100%;
        height: 100%;
    }

    .stack-card h3 {
        font-size: var(--font-size-lg);
        font-weight: 600;
        margin-bottom: var(--space-2);
        color: var(--color-text-primary);
    }

    .stack-card p {
        font-size: var(--font-size-sm);
        color: var(--color-text-secondary);
        line-height: 1.6;
        margin: 0;
    }

    /* Benefits Section */
    .benefits-section {
        max-width: 72rem;
        margin: 0 auto;
    }

    .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: var(--space-6);
    }

    .benefit-card {
        background: var(--color-bg-secondary);
        border: 1px solid var(--color-border-light);
        border-radius: var(--radius-md);
        padding: var(--space-6);
        transition: all var(--transition-base);
    }

    .benefit-card:hover {
        border-color: var(--color-border-medium);
        box-shadow: var(--shadow-md);
    }

    .benefit-icon {
        width: 40px;
        height: 40px;
        color: var(--color-accent-primary);
        margin-bottom: var(--space-3);
    }

    .benefit-card h3 {
        font-size: var(--font-size-base);
        font-weight: 600;
        margin-bottom: var(--space-2);
        color: var(--color-text-primary);
    }

    .benefit-card p {
        font-size: var(--font-size-sm);
        color: var(--color-text-secondary);
        line-height: 1.6;
        margin: 0;
    }

    @media (max-width: 768px) {
        .page-title {
            font-size: var(--font-size-3xl);
        }

        .workflow-steps {
            grid-template-columns: 1fr;
        }

        .stack-cards {
            grid-template-columns: 1fr;
        }

        .benefits-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
